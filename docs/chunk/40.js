(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"598":function(e,t,n){"use strict";n.r(t);var i=n(11),c=n(2),o=n(122),r=n(235),s=n(107),a=(n(236),n(589)),l=n(189),u=n(268),d=n(269),f=n(270),j=n(591),b=n(271),m=n(272),h=n(273),p=n(274),O=n(275),x=n(276),C=n(277),g=n(141),y=n(278),k=n(230),v=n(188),N=(n(279),n(103)),A=N.d.create({"name":"iframe","group":"block","atom":!0,"defaultOptions":{"allowFullscreen":!0,"HTMLAttributes":{"class":"iframe-wrapper"}},"addAttributes":function addAttributes(){var e=this;return{"src":{"default":null},"frameborder":{"default":0},"allowfullscreen":{"default":this.options.allowFullscreen,"parseHTML":function parseHTML(){return{"allowfullscreen":e.options.allowFullscreen}}}}},"parseHTML":function parseHTML(){return[{"tag":"iframe"}]},"renderHTML":function renderHTML(e){var t=e.HTMLAttributes;return["div",this.options.HTMLAttributes,["iframe",t]]},"addCommands":function addCommands(){var e=this;return{"setIframe":function setIframe(t){return function(n){var i=n.tr,c=n.dispatch,o=i.selection,r=e.type.create(t);return c&&i.replaceRangeWith(o.from,o.to,r),!0}}}}}),B=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,z=N.d.create({"name":"video","defaultOptions":{"inline":!1,"HTMLAttributes":{}},"inline":function inline(){return this.options.inline},"group":function group(){return this.options.inline?"inline":"block"},"draggable":!0,"addAttributes":function addAttributes(){return{"src":{"default":null},"id":{"default":null},"controls":{"default":!0},"type":{"default":null}}},"parseHTML":function parseHTML(){return[{"tag":"video"}]},"renderHTML":function renderHTML(e){var t=e.HTMLAttributes;return["video",Object(N.n)(this.options.HTMLAttributes,t),["source",Object(N.n)(this.options.HTMLAttributes,t)]]},"addCommands":function addCommands(){var e=this;return{"addVideo":function addVideo(t){return function(n){var i=n.tr,c=n.dispatch;console.info(t);var o=i.selection,r=e.type.create(t);return c&&i.replaceRangeWith(o.from,o.to,r),!0}}}},"addInputRules":function addInputRules(){return[Object(N.o)(B,this.type,(function(e){var t=Object(i.a)(e,4);return{"src":t[1],"id":t[2],"type":t[3]}}))]}}),F=N.b.create({"name":"fontColor","defaultOptions":{"types":["textStyle"]},"addGlobalAttributes":function addGlobalAttributes(){return[{"types":this.options.types,"attributes":{"fontColor":{"default":null,"renderHTML":function renderHTML(e){return e.fontColor?{"style":"color: ".concat(e.fontColor)}:{}},"parseHTML":function parseHTML(e){return console.log("FOO",e.style),{"fontColor":e.style.color.replace(/['"]+/g,"")}}}}}]},"addCommands":function addCommands(){return{"setFontColor":function setFontColor(e){return function(t){return(0,t.chain)().setMark("textStyle",{"fontColor":e}).run()}},"unsetFontColor":function unsetFontColor(){return function(e){return(0,e.chain)().setMark("textStyle",{"fontColor":null}).removeEmptyTextStyle().run()}}}}}),S=N.b.create({"name":"fontSize","defaultOptions":{"types":["textStyle"]},"addGlobalAttributes":function addGlobalAttributes(){return[{"types":this.options.types,"attributes":{"fontSize":{"default":null,"renderHTML":function renderHTML(e){return e.fontSize?{"style":"font-size: ".concat(e.fontSize)}:{}},"parseHTML":function parseHTML(e){return console.log("FOO",e.style),{"fontSize":e.style.fontSize.replace(/['"]+/g,"")}}}}}]},"addCommands":function addCommands(){return{"setFontSize":function setFontSize(e){return function(t){return(0,t.chain)().setMark("textStyle",{"fontSize":e}).run()}},"unsetFontSize":function unsetFontSize(){return function(e){return(0,e.chain)().setMark("textStyle",{"fontSize":null}).removeEmptyTextStyle().run()}}}}}),M=n(40),T=function Increase(e){return Object(M.jsxs)(o.d,{"className":"increase-component","children":[Object(M.jsx)("span",{"className":"label","children":"React Component"}),Object(M.jsx)("div",{"className":"content","children":Object(M.jsxs)("button",{"onClick":function increase(){e.updateAttributes({"count":e.node.attrs.count+1})},"children":["This button has been clicked ",e.node.attrs.count," times."]})})]})},w=N.d.create({"name":"IncreaseComponent","defaultOptions":{"inline":!1,"HTMLAttributes":{}},"inline":function inline(){return this.options.inline},"group":function group(){return this.options.inline?"inline":"block"},"draggable":!0,"atom":!0,"addAttributes":function addAttributes(){return{"count":{"default":0}}},"parseHTML":function parseHTML(){return[{"tag":"IncreaseComponent"}]},"renderHTML":function renderHTML(e){var t=e.HTMLAttributes;return["IncreaseComponent",Object(N.n)(t)]},"addNodeView":function addNodeView(){return Object(o.e)(T)},"addCommands":function addCommands(){var e=this;return{"setIncreaseComponent":function setIncreaseComponent(t){return function(n){return n.commands.insertContent({"type":e.name,"attrs":t})}}}}}),H=n(34),L=n(102),I=n.n(L),P=n(190),R=n.n(P),V=function Card(e){var t=e.label,n=e.children;return Object(M.jsxs)(s.View,{"className":"editor-card","children":[Object(M.jsx)(s.Label,{"className":"editor-card-label","for":t,"children":t},t),Object(M.jsx)(s.View,{"children":n})]})},Y=function MenuBar(e){var t=e.editor;return t?Object(M.jsxs)(s.View,{"className":"tiptap-menu-bar","children":[Object(M.jsxs)(V,{"label":"基本样式","children":[Object(M.jsx)(U,{"editor":t}),Object(M.jsx)("br",{}),Object(M.jsx)(K,{"editor":t}),Object(M.jsx)("br",{}),Object(M.jsx)(E,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"媒体样式","children":[Object(M.jsx)(J,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"基本操作","children":[Object(M.jsx)(W,{"editor":t}),Object(M.jsx)("br",{}),Object(M.jsx)(D,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"字体颜色","children":[Object(M.jsx)(Z,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"字体大小","children":[Object(M.jsx)(Q,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"字体样式","children":[Object(M.jsx)(ce,{"editor":t}),Object(M.jsx)("br",{})]}),Object(M.jsxs)(V,{"label":"组建样式","children":[Object(M.jsx)(ne,{"editor":t}),Object(M.jsx)(te,{"editor":t}),Object(M.jsx)("br",{})]})]}):null},D=function ActionBar(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().undo().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-undo"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().redo().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-redo"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().unsetAllMarks().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-xiangpi"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().clearNodes().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-zu9"})})]})},U=function HeadingMenu(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":1}).run()},"className":t.isActive("heading",{"level":1})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h1"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":2}).run()},"className":t.isActive("heading",{"level":2})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h2"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":3}).run()},"className":t.isActive("heading",{"level":3})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h3"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":4}).run()},"className":t.isActive("heading",{"level":4})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h4"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":5}).run()},"className":t.isActive("heading",{"level":5})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h5"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeading({"level":6}).run()},"className":t.isActive("heading",{"level":6})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-h6"})})]})},E=function ListMenu(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleCodeBlock().run()},"className":t.isActive("codeBlock")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-bx-code-block"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleBulletList().run()},"className":t.isActive("bulletList")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-wuxuliebiao"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleOrderedList().run()},"className":t.isActive("orderedList")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-youxuliebiao"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleBlockquote().run()},"className":t.isActive("blockquote")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-zu"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setHorizontalRule().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-horizontal-rule"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setHardBreak().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-break-line-a"})})]})},K=function BaseBar(e){var t=e.editor;return t?Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setParagraph().run()},"className":t.isActive("paragraph")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-duanlawenben"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleBold().run()},"className":t.isActive("bold")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-jiacu"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleItalic().run()},"className":t.isActive("italic")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-xieti"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleStrike().run()},"className":t.isActive("strike")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-shanchuxian"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleCode().run()},"className":t.isActive("code")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-daima"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHighlight().run()},"className":t.isActive("highlight")?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-ic_edit_highlight"})})]}):null},W=function FontActionBar(e){var t=e.editor;return t?Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setTextAlign("left").run()},"className":t.isActive({"textAlign":"left"})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-juzuo"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setTextAlign("center").run()},"className":t.isActive({"textAlign":"center"})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-juzhong"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setTextAlign("right").run()},"className":t.isActive({"textAlign":"right"})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-juyou"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().setTextAlign("justify").run()},"className":t.isActive({"textAlign":"justify"})?"is-active":"","children":Object(M.jsx)("i",{"className":"iconfont icon-liangduanduiqi"})})]}):null},J=function MediaMenu(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(_,{"editor":t}),Object(M.jsx)(q,{"editor":t}),Object(M.jsx)(G,{"editor":t}),Object(M.jsx)(X,{"editor":t}),Object(M.jsx)($,{"editor":t}),Object(M.jsx)(ee,{"editor":t}),Object(M.jsx)(ie,{"editor":t})]})},_=function AddImage(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addImage(){var e=window.prompt("URL");e&&t.chain().focus().setImage({"src":e,"alt":""}).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-zu3"})})},q=function UploadImage(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addImage(){Object(H.chooseImage)({"success":function success(e){var n=e.tempFilePaths;console.log("tempFilePaths",n),Object(H.uploadFile)({"url":"http://api.yuansheng.com/api/file/upload","filePath":n[0],"name":"file","header":{"Authorization":"Bearer ".concat(R.a.get("accessToken")||Object(H.getStorageSync)("accessToken")),"X-Api-Key":"APIKey ".concat(R.a.get("APIKey")||Object(H.getStorageSync)("APIKey"))},"formData":{"method":"POST","pathtype":"weappfile"},"success":function success(e){var n=(JSON.parse(e.data||"{}")||{}).data;t.chain().focus().setImage({"src":n.url,"alt":""}).run()}})}})},"children":Object(M.jsx)("i",{"className":"iconfont icon-image-upload"})})},G=function AddLink(e){var t=e.editor;if(!t)return null;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addLink(){var e=window.prompt("URL");e&&t.chain().focus().extendMarkRange("link").setLink({"href":e}).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-insert-link"})}),t.isActive("link")&&Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function removeLink(){t.chain().focus().unsetLink().run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-icons8-delete_link"})})]})},X=function AddIframe(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(M.Fragment,{"children":Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addLink(){var e=window.prompt("URL");e&&t.chain().focus().setIframe({"src":e}).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-iframe"})})})},Q=function FontSize(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addFontSize(){var e=window.prompt("FontSize","12px");e&&t.chain().focus().setFontSize(e).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-font-size1"})})},Z=function FontColor(e){var t=e.editor;return t?Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:purple;","onClick":function onClick(){return t.chain().focus().setFontColor("#958DF1").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#958DF1"})}),"children":"purple"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:red;","onClick":function onClick(){return t.chain().focus().setFontColor("#F98181").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#F98181"})}),"children":"red"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:orange;","onClick":function onClick(){return t.chain().focus().setFontColor("#FBBC88").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#FBBC88"})}),"children":"orange"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:yellow;","onClick":function onClick(){return t.chain().focus().setFontColor("#FAF594").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#FAF594"})}),"children":"yellow"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:blue;","onClick":function onClick(){return t.chain().focus().setFontColor("#70CFF8").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#70CFF8"})}),"children":"blue"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:teal;","onClick":function onClick(){return t.chain().focus().setFontColor("#94FADB").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#94FADB"})}),"children":"teal"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"color:green;","onClick":function onClick(){return t.chain().focus().setFontColor("#B9F18D").run()},"className":I()({"is-active":t.isActive("textStyle",{"color":"#B9F18D"})}),"children":"green"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().unsetFontColor().run()},"children":"remove color"})]}):null},$=function AddVideo(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(M.Fragment,{"children":Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addLink(){var e=window.prompt("URL");e&&t.chain().focus().addVideo({"src":e}).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-video"})})})},ee=function UploadVideo(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(M.Fragment,{"children":Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addLink(){Object(H.chooseVideo)({"sourceType":["album","camera"],"camera":"back","success":function success(e){var n=null==e?void 0:e.tempFilePath;console.log("tempFilePath",n),Object(H.uploadFile)({"url":"http://api.yuansheng.com/api/file/upload","filePath":n,"name":"file","header":{"Authorization":"Bearer ".concat(R.a.get("accessToken")||Object(H.getStorageSync)("accessToken")),"X-Api-Key":"APIKey ".concat(R.a.get("APIKey")||Object(H.getStorageSync)("APIKey"))},"formData":{"method":"POST","pathtype":"weappfile"},"success":function success(e){var n=(JSON.parse(e.data||"{}")||{}).data;t.chain().focus().addVideo({"src":n.url}).run()}})}})},"children":Object(M.jsx)("i",{"className":"iconfont icon-icon_video_upload"})})})},te=function YYTitle(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addComponent(){t.chain().focus().setYYTitleComponent({}).run()},"children":"YYTitle"})},ne=function YYSwiper(e){var t=e.editor;if(!t)return null;return Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function addComponent(){t.chain().focus().setYYSwiperComponent({}).run()},"children":"YYSwiper"})},ie=function MenuBarTable(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().insertTable({"rows":3,"cols":3,"withHeaderRow":!0}).run()},"children":Object(M.jsx)("i",{"className":"iconfont icon-zu4"})}),Object(M.jsxs)(o.a,{"pluginKey":"table-key","shouldShow":function shouldShow(){return t.isActive("table")},"className":"bubble-menu","tippyOptions":{"duration":100},"editor":t,"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().addColumnBefore().run()},"disabled":!t.can().addColumnBefore(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-border-left"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().addColumnAfter().run()},"disabled":!t.can().addColumnAfter(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-border-right"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().deleteColumn().run()},"disabled":!t.can().deleteColumn(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-column-delete"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().addRowBefore().run()},"disabled":!t.can().addRowBefore(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-border-top"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().addRowAfter().run()},"disabled":!t.can().addRowAfter(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-border-bottom"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().deleteRow().run()},"disabled":!t.can().deleteRow(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-row-delete"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().mergeCells().run()},"disabled":!t.can().mergeCells(),"children":Object(M.jsx)("i",{"className":"iconfont icon-editor-cell-merge"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().splitCell().run()},"disabled":!t.can().splitCell(),"children":Object(M.jsx)("i",{"className":"iconfont icon-icon-cellsplit-line"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeaderColumn().run()},"disabled":!t.can().toggleHeaderColumn(),"children":Object(M.jsx)("i",{"className":"iconfont icon-Table"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeaderRow().run()},"disabled":!t.can().toggleHeaderRow(),"children":Object(M.jsx)("i",{"className":"iconfont icon-table"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().toggleHeaderCell().run()},"disabled":!t.can().toggleHeaderCell(),"children":Object(M.jsx)("i",{"className":"iconfont icon-k-i-table-cell"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().mergeOrSplit().run()},"disabled":!t.can().mergeOrSplit(),"children":Object(M.jsx)("i",{"className":"iconfont icon-table-merge"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().goToNextCell().run()},"disabled":!t.can().goToNextCell(),"children":Object(M.jsx)("i",{"className":"iconfont icon-qianjin"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().goToPreviousCell().run()},"disabled":!t.can().goToPreviousCell(),"children":Object(M.jsx)("i",{"className":"iconfont icon-houtui"})}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().deleteTable().run()},"disabled":!t.can().deleteTable(),"children":Object(M.jsx)("i",{"className":"iconfont icon-table-delete"})})]})]})},ce=function FontFamily(e){var t=e.editor;return Object(M.jsxs)(M.Fragment,{"children":[Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"font-family: Inter;","onClick":function onClick(){return t.chain().focus().setFontFamily("Inter").run()},"className":I()({"is-active":t.isActive("textStyle",{"fontFamily":"Inter"})}),"children":"Inter"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"font-family: Comic Sans MS, Comic Sans;","onClick":function onClick(){return t.chain().focus().setFontFamily("Comic Sans MS, Comic Sans").run()},"className":I()({"is-active":t.isActive("textStyle",{"fontFamily":"Comic Sans MS, Comic Sans"})}),"children":"Comic Sans"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"font-family: serif;","onClick":function onClick(){return t.chain().focus().setFontFamily("serif").run()},"className":I()({"is-active":t.isActive("textStyle",{"fontFamily":"serif"})}),"children":"serif"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"font-family: monospace;","onClick":function onClick(){return t.chain().focus().setFontFamily("monospace").run()},"className":I()({"is-active":t.isActive("textStyle",{"fontFamily":"monospace"})}),"children":"monospace"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","style":"font-family: cursive;","onClick":function onClick(){return t.chain().focus().setFontFamily("cursive").run()},"className":I()({"is-active":t.isActive("textStyle",{"fontFamily":"cursive"})}),"children":"cursive"}),Object(M.jsx)(s.Button,{"size":"mini","type":"default","onClick":function onClick(){return t.chain().focus().unsetFontFamily().run()},"children":"Remove font-family"})]})},oe=function AdsWraper(e){return Object(M.jsxs)(o.d,{"className":"ads-wrapper","children":[Object(M.jsx)("div",{"className":"ads-wrapper-title","children":"广告"}),Object(M.jsx)(o.c,{"className":"ads-wrapper-content"})]})},re=N.d.create({"name":"AdsWraper","group":"block","content":"inline*","parseHTML":function parseHTML(){return[{"tag":"AdsWraper"}]},"renderHTML":function renderHTML(e){var t=e.HTMLAttributes;return["AdsWraper",Object(N.n)(t),0]},"addNodeView":function addNodeView(){return Object(o.e)(oe)}}),se=n(5),ae=n(142),le=n.n(ae),ue=n(285),de=n(183),fe=n(187),je=n(10),be=n(586),me=n(590),he=n(461),pe=n.n(he),Oe=n(462),xe=n(6),Ce=n(7),ge=n(19),ye=n(14),ke=n(15),ve=n(26),Ne=n.n(ve),Ae=function(e){Object(ye.a)(ModalController,e);var t=Object(ke.a)(ModalController);function ModalController(){var e;Object(xe.a)(this,ModalController);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(je.a)(Object(ge.a)(e),"el",document.createElement("div")),e}return Object(Ce.a)(ModalController,[{"key":"componentDidMount","value":function componentDidMount(){var e;null===(e=document.getElementById("app-modal"))||void 0===e||e.appendChild(this.el)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){var e;null===(e=document.getElementById("app-modal"))||void 0===e||e.removeChild(this.el)}},{"key":"render","value":function render(){return Ne.a.createPortal(this.props.children,this.el)}}]),ModalController}(c.Component),Be=Object(me.a)()((function(e){console.log("createForm props",e);var t=le()(e.node.attrs,(function(e){return"string"==typeof e&&/^(\[|\})/g.test(e)?JSON.parse(e):e}));return Object(Oe.renderObjectMap)({"data":t,"form":e.form,"onChange":function onChange(n,i){return function(i){pe()(t,n,i),e.updateAttributes(t),e.form.setFieldsValue(Object(je.a)({},n,i))}},"onUpdateSelect":function onUpdateSelect(n,i,c){pe()(t,n,c),e.updateAttributes(t)}})})),ze=function ModalConfig(e){var t=e.isOpened,n=e.toggleModal;return Object(M.jsx)(Ae,{"children":Object(M.jsxs)(be.a,{"isOpened":t,"className":"edit-modal-config","children":[Object(M.jsx)(be.d,{"children":"富文本组件内容编辑"}),Object(M.jsx)(be.c,{"children":Object(M.jsx)(Be,Object(se.a)({},e))}),Object(M.jsxs)(be.b,{"children":[Object(M.jsx)(s.Button,{"type":"default","onClick":function onClick(){return n(!1)},"children":"取消"}),Object(M.jsx)(s.Button,{"type":"primary","onClick":function onClick(){return n(!1)},"children":"确定"})]})]})})},Fe=function EditComponent(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],l=function toggleModal(){a(!r)};return Object(M.jsxs)(o.d,{"children":[Object(M.jsx)(s.View,{"onClick":l,"className":"yy-components","children":e.children}),r&&Object(M.jsx)(ze,Object(se.a)(Object(se.a)({},e),{},{"isOpened":r,"toggleModal":l}))]})},Se=function ComponentWrapper(e){return e.node.attrs=le()(e.node.attrs,(function(e){return"string"==typeof e&&/^(\[|\})/g.test(e)?JSON.parse(e):e})),Object(M.jsx)(Fe,Object(se.a)(Object(se.a)({},e),{},{"children":e.children}))},Me=n(9),Te=function CommonExtension(e){var t=e.title,n=e.component,i=e.attributes,c=e.setComponent;return N.d.create({"name":t,"defaultOptions":{"inline":!1,"HTMLAttributes":{}},"inline":function inline(){return this.options.inline},"group":function group(){return this.options.inline?"inline":"block"},"draggable":!0,"atom":!0,"addAttributes":function addAttributes(){return i},"parseHTML":function parseHTML(){return[{"tag":t}]},"renderHTML":function renderHTML(e){var n=e.HTMLAttributes;return[t,Object(N.n)(le()(n,(function(e){return"object"===Object(Me.a)(e)?JSON.stringify(e):e})))]},"addNodeView":function addNodeView(){return Object(o.e)(n)},"addCommands":function addCommands(){var e=this;return Object(je.a)({},c,(function(t){return function(n){return n.commands.insertContent({"type":e.name,"attrs":t})}}))}})},we=Te({"title":"yy-title","component":function component(e){return Object(M.jsx)(Se,Object(se.a)(Object(se.a)({},e),{},{"children":Object(M.jsx)(de.YYTitle,Object(se.a)({},e.node.attrs))}))},"attributes":le()(ue.titleDataSource,(function(e,t){return{"default":e}})),"setComponent":"setYYTitleComponent"}),He=Te({"title":"yy-swiper","component":function component(e){return Object(M.jsx)(Se,Object(se.a)(Object(se.a)({},e),{},{"children":Object(M.jsx)(fe.YYSwiper,Object(se.a)({},e.node.attrs))}))},"attributes":le()(ue.swiperDataSource,(function(e,t){return{"default":e}})),"setComponent":"setYYSwiperComponent"}),Le=n(111),Ie=N.b.create({"name":"eventHandler","addProseMirrorPlugins":function addProseMirrorPlugins(){return[new Le.d({"key":new Le.e("eventHandler"),"props":{"handleClick":function handleClick(e,t,n){return!0},"handleDoubleClick":function handleDoubleClick(e,t,n){return!0},"handlePaste":function handlePaste(e,t,n){return!0}}})]}}),Pe=x.a.extend({"content":"inline*"}),Re=function RichTextEditor(e){var t=e.editcode,n=void 0!==t&&t,i=e.menuBarShow,c=void 0===i||i,a=e.editor,l=e.content,u=void 0===l?"":l,d=e.setContent,f=void 0===d?function(e){}:d;return Object(M.jsxs)(M.Fragment,{"children":[c&&Object(M.jsx)(s.View,{"className":"richtext-menu-bar","children":Object(M.jsx)(Y,{"editor":a})}),Object(M.jsxs)(s.View,{"className":"richtext-content","children":[n&&Object(M.jsx)(r.Controlled,{"value":u,"options":{"mode":"html","theme":"material","lineNumbers":!0},"onBeforeChange":function onBeforeChange(e,t,n){f(n)},"onChange":function onChange(e,t,n){}}),!n&&Object(M.jsx)(o.b,{"editor":a})]})]})};t.default=function App(){var e=Object(c.useState)("<p>Richtext</p>"),t=Object(i.a)(e,2),n=t[0],r=t[1],s=function useRichTextEditor(e){var t=e.contenteditable,n=void 0!==t&&t,i=e.content,c=void 0===i?"":i,r=e.setContent,s=void 0===r?function(e){}:r;return Object(o.f)({"extensions":[a.a,l.a,u.a,d.a,h.a,j.a.configure({"resizable":!0}),p.a.configure({"types":["heading","paragraph"]}),f.a,b.a,m.a,O.a,C.a,A,z,F,S,g.a,y.a,k.a,Pe,re,v.a,w,we,He,Ie],"editable":n,"content":c,"onUpdate":function onUpdate(e){var t=e.editor;s(t.getHTML())}})}({"contenteditable":!0,"content":n,"setContent":function setContent(e){return r(e)}});return Object(M.jsx)("div",{"className":"App","children":Object(M.jsx)(Re,{"editor":s,"contenteditable":!0,"content":n,"setContent":function setContent(e){return r(e)}})})}}}]);